# ============================================
# アプリケーション設定
# ============================================
NODE_ENV=development
PORT=3000

# ============================================
# データベース設定
# ============================================
# 注意: 既存のDockerプロジェクト（scriptlab）がポート3306を使用しているため、
#       このプロジェクトでは別のポート番号を使用してください
DATABASE_URL="mysql://luchida_user:luchida_password@localhost:3307/luchida_db"

# ============================================
# OANDA API設定
# ============================================
# Practice環境で始めることを強く推奨
OANDA_API_URL=https://api-fxpractice.oanda.com
OANDA_API_KEY=your_practice_api_key_here
OANDA_ACCOUNT_ID=your_account_id_here

# 本番環境に移行する場合は以下に変更
# OANDA_API_URL=https://api-fxtrade.oanda.com

# ============================================
# セキュリティ設定
# ============================================
# JWT Secret（本番環境では必ず変更すること）
JWT_SECRET=your_jwt_secret_here_change_in_production

# CORS設定
CORS_ORIGIN=http://localhost:5173

# ============================================
# ログ設定
# ============================================
LOG_LEVEL=debug

# ============================================
# リスク管理ルール
# ============================================
MAX_POSITION_SIZE=10000
MIN_POSITION_SIZE=1000
STOP_LOSS_PIPS=20
TAKE_PROFIT_PIPS=40
ALLOW_MANUAL_SL_TP=false

MAX_DAILY_LOSS=5000
MAX_DAILY_LOSS_PERCENTAGE=2.0
DAILY_LOSS_RESET_HOUR=0

MAX_OPEN_POSITIONS=5
MAX_POSITIONS_PER_PAIR=2
MAX_LEVERAGE=10

# ============================================
# タイミングルール
# ============================================
TRADING_START_HOUR=9
TRADING_START_MINUTE=0
TRADING_END_HOUR=17
TRADING_END_MINUTE=0
TRADING_TIMEZONE=Asia/Tokyo

# 取引可能曜日（0=日, 1=月, ..., 6=土）
TRADING_ALLOWED_DAYS=1,2,3,4,5

# 経済指標前後の取引制限
BLOCK_BEFORE_NEWS_MINUTES=30
BLOCK_AFTER_NEWS_MINUTES=10
NEWS_CALENDAR_ENABLED=false
HIGH_IMPACT_ONLY=true

# ============================================
# エントリー条件ルール
# ============================================
# RSI
RSI_ENABLED=true
RSI_PERIOD=14
RSI_OVERSOLD=30
RSI_OVERBOUGHT=70
RSI_TIMEFRAME=M5

# 移動平均線
MA_ENABLED=true
MA_SHORT_PERIOD=25
MA_LONG_PERIOD=75
MA_CROSSOVER_REQUIRED=true
MA_TIMEFRAME=M15

# ボリンジャーバンド
BB_ENABLED=false
BB_PERIOD=20
BB_STD_DEV=2.0
BB_TIMEFRAME=M5

# トレンド強度
TREND_STRENGTH_ENABLED=false
MIN_TREND_STRENGTH=0.7
TREND_CALCULATION_METHOD=ADX

# ============================================
# 市場条件ルール
# ============================================
# 通貨ペア制限
ALLOWED_CURRENCY_PAIRS=USD_JPY,EUR_JPY,GBP_JPY

# スプレッド制限
MAX_SPREAD_PIPS=3.0
CHECK_SPREAD_ENABLED=true

# 流動性チェック
MIN_VOLUME_REQUIRED=1000
LIQUIDITY_CHECK_ENABLED=false
